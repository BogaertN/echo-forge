# EchoForge Environment Configuration
# ===================================
# Copy this file to .env and customize the values for your installation
# 
# Usage: cp .env.example .env
# Then edit .env with your specific configuration values

# =============================================================================
# ENVIRONMENT SETTINGS
# =============================================================================

# Application environment (development, testing, production)
ECHOFORGE_ENV=development

# Application metadata
APP_NAME=EchoForge
APP_VERSION=1.0.0

# =============================================================================
# WEB SERVER CONFIGURATION
# =============================================================================

# Server host and port
HOST=127.0.0.1
PORT=8000

# Debug mode (true/false) - only enable in development
DEBUG=true

# Server reload on file changes (true/false) - development only
RELOAD=true

# Secret key for session management and security
# Leave empty to auto-generate, or provide a secure random string
SECRET_KEY=

# Maximum request size in bytes (default: 10MB)
MAX_REQUEST_SIZE=10485760

# Rate limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW_MINUTES=15

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Primary database path
DB_PATH=data/echoforge.db

# Encrypted database path (when encryption is enabled)
ENCRYPTED_DB_PATH=data/echoforge_encrypted.db

# Enable database encryption (true/false)
DB_ENABLE_ENCRYPTION=true

# Encryption key file location
ENCRYPTION_KEY_FILE=data/.encryption_key

# Database connection timeout in seconds
DB_CONNECTION_TIMEOUT=30

# Maximum number of database connections
DB_MAX_CONNECTIONS=10

# Enable Write-Ahead Logging mode for better performance
DB_ENABLE_WAL_MODE=true

# Database cache size (number of pages)
DB_CACHE_SIZE=2000

# Auto-backup settings
DB_AUTO_BACKUP=true
DB_BACKUP_INTERVAL_HOURS=24
DB_BACKUP_RETENTION_DAYS=30
DB_BACKUP_DIRECTORY=data/backups

# =============================================================================
# LLM CONFIGURATION (OLLAMA)
# =============================================================================

# Ollama base URL
OLLAMA_BASE_URL=http://localhost:11434

# Ollama connection timeout in seconds
OLLAMA_TIMEOUT=120

# Maximum retry attempts for failed requests
OLLAMA_MAX_RETRIES=3

# Retry delay in seconds
OLLAMA_RETRY_DELAY=1.0

# Default model for general use
DEFAULT_MODEL=llama3.1

# Fast model for quick responses
FAST_MODEL=llama3.1:8b

# Powerful model for complex tasks
POWERFUL_MODEL=llama3.1:70b

# Enable streaming responses (true/false)
LLM_ENABLE_STREAMING=true

# Enable response caching (true/false)
LLM_ENABLE_CACHING=true

# Cache TTL in seconds
LLM_CACHE_TTL=3600

# Maximum concurrent LLM requests
LLM_MAX_CONCURRENT=5

# =============================================================================
# AGENT CONFIGURATION
# =============================================================================

# Default agent timeout in seconds
AGENT_DEFAULT_TIMEOUT=60

# Agent-specific timeouts
AGENT_CLARIFIER_TIMEOUT=45
AGENT_PROPONENT_TIMEOUT=90
AGENT_OPPONENT_TIMEOUT=90
AGENT_SYNTHESIZER_TIMEOUT=120
AGENT_AUDITOR_TIMEOUT=75
AGENT_JOURNAL_ASSISTANT_TIMEOUT=60
AGENT_SPECIALIST_TIMEOUT=75

# Maximum retry attempts for agent operations
AGENT_MAX_RETRIES=3

# Enable agent response caching
AGENT_ENABLE_CACHING=true

# Agent cache TTL in seconds
AGENT_CACHE_TTL=1800

# Maximum conversation history length
AGENT_MAX_CONVERSATION_HISTORY=50

# Context compression threshold (characters)
AGENT_CONTEXT_COMPRESSION_THRESHOLD=4000

# =============================================================================
# DEBATE SYSTEM CONFIGURATION
# =============================================================================

# Maximum number of clarification rounds
DEBATE_MAX_CLARIFICATION_ROUNDS=5

# Maximum number of main debate rounds
DEBATE_MAX_DEBATE_ROUNDS=10

# Maximum number of specialist consultations per debate
DEBATE_MAX_SPECIALIST_CALLS=3

# Debate timeouts in minutes
DEBATE_CLARIFICATION_TIMEOUT_MINUTES=15
DEBATE_MAIN_TIMEOUT_MINUTES=45
DEBATE_SYNTHESIS_TIMEOUT_MINUTES=10

# Quality control thresholds
DEBATE_MIN_ARGUMENT_QUALITY_SCORE=3.0
DEBATE_FALLACY_WARNING_THRESHOLD=2
DEBATE_AUTO_AUDITOR_TRIGGER=2.5

# Auto-completion settings
DEBATE_ENABLE_AUTO_COMPLETION=true
DEBATE_AUTO_COMPLETE_ON_CONVERGENCE=true
DEBATE_CONVERGENCE_THRESHOLD=0.8
DEBATE_AUTO_COMPLETE_ON_REPETITION=true
DEBATE_REPETITION_THRESHOLD=3

# Ghost loop detection
DEBATE_ENABLE_GHOST_LOOP_DETECTION=true
DEBATE_SIMILARITY_THRESHOLD=0.85
DEBATE_MAX_SIMILAR_RESPONSES=2

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable voice transcription support (requires additional setup)
ENABLE_VOICE=true

# Enable resonance mapping (knowledge graphs)
ENABLE_RESONANCE=true

# Enable gamification features
ENABLE_GAMIFICATION=true

# Enable analytics and insights
ENABLE_ANALYTICS=true

# Enable export functionality
ENABLE_EXPORT=true

# Enable tool integration (web search, fact-checking)
ENABLE_TOOLS=true

# Enable web search capabilities
ENABLE_WEB_SEARCH=true

# Enable fact-checking features
ENABLE_FACT_CHECKING=true

# Enable specialist agent consultation
ENABLE_SPECIALISTS=true

# Maximum specialists per debate
MAX_SPECIALISTS_PER_DEBATE=2

# =============================================================================
# JOURNAL CONFIGURATION
# =============================================================================

# Maximum journal entry length in characters
JOURNAL_MAX_ENTRY_LENGTH=10000

# Minimum journal entry length in characters
JOURNAL_MIN_ENTRY_LENGTH=10

# Auto-save interval in seconds
JOURNAL_AUTO_SAVE_INTERVAL=30

# Enable full-text search
JOURNAL_ENABLE_FULL_TEXT_SEARCH=true

# Search results limit
JOURNAL_SEARCH_RESULTS_LIMIT=50

# Enable search highlighting
JOURNAL_SEARCH_HIGHLIGHT=true

# Analytics update interval in hours
JOURNAL_ANALYTICS_INTERVAL_HOURS=24

# Enable mood tracking
JOURNAL_MOOD_TRACKING=true

# Gamification settings
JOURNAL_POINTS_PER_ENTRY=10
JOURNAL_BONUS_POINTS_LONG_ENTRY=5
JOURNAL_STREAK_BONUS_MULTIPLIER=1.5

# Export settings
JOURNAL_EXPORT_FORMATS=json,markdown,pdf
JOURNAL_MAX_EXPORT_ENTRIES=1000

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Encryption algorithm
ENCRYPTION_ALGORITHM=AES-256-GCM

# Key derivation iterations (higher = more secure but slower)
KEY_DERIVATION_ITERATIONS=100000

# Salt length in bytes
SALT_LENGTH=32

# Session security
SECURE_COOKIES=true
COOKIE_SAMESITE=Lax
SESSION_REGENERATE_INTERVAL=3600

# Session timeout in minutes
SESSION_TIMEOUT_MINUTES=720

# Content security
ENABLE_CONTENT_SANITIZATION=true
MAX_INPUT_LENGTH=10000

# Blocked file extensions (comma-separated)
BLOCKED_FILE_EXTENSIONS=.exe,.bat,.cmd,.com,.scr

# Rate limiting
ENABLE_RATE_LIMITING=true
GLOBAL_RATE_LIMIT=1000
PER_IP_RATE_LIMIT=100
RATE_LIMIT_WINDOW_SECONDS=3600

# Audit logging
ENABLE_AUDIT_LOGGING=true
AUDIT_LOG_FILE=logs/audit.log
LOG_SENSITIVE_OPERATIONS=true

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================

# Memory management
MAX_MEMORY_USAGE_MB=1024
GC_THRESHOLD_MB=512
ENABLE_MEMORY_MONITORING=true

# Caching
ENABLE_REDIS_CACHE=false
REDIS_URL=redis://localhost:6379
CACHE_DEFAULT_TTL=3600
MAX_CACHE_SIZE_MB=256

# Background tasks
ENABLE_BACKGROUND_TASKS=true
TASK_QUEUE_SIZE=100
MAX_CONCURRENT_TASKS=10
TASK_TIMEOUT_SECONDS=300

# Database optimization
ENABLE_QUERY_OPTIMIZATION=true
QUERY_TIMEOUT_SECONDS=30
CONNECTION_POOL_SIZE=10

# Performance monitoring
ENABLE_PERFORMANCE_MONITORING=true
METRICS_COLLECTION_INTERVAL=60
PERFORMANCE_LOG_FILE=logs/performance.log

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Main log file
LOG_FILE=logs/echoforge.log

# Maximum log file size in MB
LOG_MAX_SIZE_MB=100

# Number of backup log files to keep
LOG_BACKUP_COUNT=5

# Enable structured logging (JSON format)
ENABLE_STRUCTURED_LOGGING=false

# Enable log rotation
ENABLE_LOG_ROTATION=true

# =============================================================================
# EXTERNAL SERVICES (OPTIONAL)
# =============================================================================

# OpenAI API (optional, for additional models)
# OPENAI_API_KEY=your_openai_api_key_here

# Anthropic API (optional, for Claude models)
# ANTHROPIC_API_KEY=your_anthropic_api_key_here

# Web search API (optional, for enhanced fact-checking)
# BING_SEARCH_API_KEY=your_bing_search_api_key_here
# GOOGLE_SEARCH_API_KEY=your_google_search_api_key_here
# GOOGLE_SEARCH_ENGINE_ID=your_custom_search_engine_id_here

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# Enable CORS
CORS_ENABLED=true

# Allowed origins (comma-separated URLs)
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# Allowed methods (comma-separated)
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS

# Allowed headers
CORS_HEADERS=*

# =============================================================================
# WEBSOCKET CONFIGURATION
# =============================================================================

# WebSocket connection timeout in seconds
WEBSOCKET_TIMEOUT=60

# WebSocket ping interval in seconds
WEBSOCKET_PING_INTERVAL=20

# WebSocket ping timeout in seconds
WEBSOCKET_PING_TIMEOUT=10

# Maximum concurrent WebSocket connections
MAX_WEBSOCKET_CONNECTIONS=100

# =============================================================================
# FILE STORAGE CONFIGURATION
# =============================================================================

# Data directory
DATA_DIRECTORY=data

# Logs directory
LOGS_DIRECTORY=logs

# Temporary files directory
TEMP_DIRECTORY=temp

# Static files directory
STATIC_DIRECTORY=frontend/static

# Templates directory
TEMPLATES_DIRECTORY=frontend/templates

# Upload directory
UPLOAD_DIRECTORY=data/uploads

# Maximum upload size in bytes (5MB default)
MAX_UPLOAD_SIZE=5242880

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Enable development tools (only in development environment)
ENABLE_DEV_TOOLS=true

# Enable API documentation endpoints
ENABLE_API_DOCS=true

# Enable database admin interface
ENABLE_DB_ADMIN=false

# Enable performance profiling
ENABLE_PROFILING=false

# Enable code reloading
ENABLE_CODE_RELOAD=true

# Development database (separate from production)
DEV_DB_PATH=data/echoforge_dev.db

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================

# Test database path
TEST_DB_PATH=data/echoforge_test.db

# Enable test mode features
ENABLE_TEST_MODE=false

# Test data directory
TEST_DATA_DIRECTORY=tests/data

# Mock external services in tests
MOCK_EXTERNAL_SERVICES=true

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# Process management
WORKERS=1
WORKER_CLASS=uvicorn.workers.UvicornWorker
WORKER_CONNECTIONS=1000
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=50

# Health check settings
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# Graceful shutdown timeout
GRACEFUL_TIMEOUT=30

# =============================================================================
# MONITORING AND OBSERVABILITY
# =============================================================================

# Enable Prometheus metrics
ENABLE_PROMETHEUS=false
PROMETHEUS_PORT=9090

# Enable Sentry error tracking
# SENTRY_DSN=your_sentry_dsn_here

# Enable structured logging for observability
ENABLE_STRUCTURED_LOGS=false

# Application insights key
# APPINSIGHTS_INSTRUMENTATION_KEY=your_key_here

# =============================================================================
# BACKUP AND RECOVERY
# =============================================================================

# Enable automatic backups
ENABLE_AUTO_BACKUP=true

# Backup schedule (cron format)
BACKUP_SCHEDULE=0 2 * * *

# Backup retention period in days
BACKUP_RETENTION_DAYS=30

# Backup compression
ENABLE_BACKUP_COMPRESSION=true

# Remote backup location (optional)
# BACKUP_REMOTE_URL=s3://your-bucket/backups

# =============================================================================
# MISCELLANEOUS
# =============================================================================

# Timezone
TIMEZONE=UTC

# Default language
DEFAULT_LANGUAGE=en

# Enable telemetry (for improving the software - no personal data)
ENABLE_TELEMETRY=false

# Check for updates
CHECK_FOR_UPDATES=true

# =============================================================================
# NOTES
# =============================================================================
#
# 1. Boolean values should be lowercase: true/false
# 2. Numeric values should not be quoted
# 3. String values with spaces should be quoted
# 4. Comments start with # and are ignored
# 5. Empty values will use application defaults
# 6. Sensitive values (API keys, secrets) should never be committed to version control
# 7. For production deployments, review all security-related settings
# 8. Some features may require additional software installation
# 9. Restart the application after changing environment variables
# 10. Use .env.local for local overrides that shouldn't be committed
